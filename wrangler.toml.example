name = "cloudrun-mesh"
main = "worker.js"
compatibility_date = "2024-01-25"

routes = [
  { pattern = "${WORKER_ROUTE}", zone_name = "${ZONE_NAME}" }
]

[vars]
CLOUD_RUN_URL = "${CLOUD_RUN_URL}"
# NOTE: Secrets like 'GCP_SA_KEY' are NOT defined here; they must be added via 'wrangler secret put' or Dashboard.

[observability.logs]
enabled = true

# Build command: envsubst < wrangler.toml.example > wrangler.toml && npx wrangler deploy
